<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday üéâ</title>
  <style>
    :root{
      --bg1:#ff9a9e; --bg2:#fad0c4; --bg3:#fbc2eb; --bg4:#a18cd1;
      --card-bg: rgba(255,255,255,0.18);
      --glass: blur(12px) saturate(120%);
      --accent:#ff4d6d;
      --accent-2:#845ef7;
      --text:#1f2937;
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      background: linear-gradient(135deg, var(--bg1), var(--bg2) 35%, var(--bg3) 65%, var(--bg4));
      overflow:hidden;
    }

    /* Confetti canvas sits behind everything */
    #confetti{position:fixed; inset:0; z-index:0;}

    /* Floating balloons */
    .balloon{position:fixed; bottom:-20vh; z-index:1; width:48px; height:60px; border-radius:60% 60% 60% 60%;
      background: radial-gradient(circle at 30% 30%, #fff8, transparent 35%), var(--bcolor, #ff6b6b);
      box-shadow: inset -6px -10px 14px #0003;
      animation: floatUp var(--dur, 18s) linear infinite;
    }
    .balloon::after{content:""; position:absolute; bottom:-22px; left:50%; width:2px; height:24px; transform:translateX(-50%);
      background:#0002;
    }
    @keyframes floatUp{
      from{transform:translateY(0) translateX(0) rotate(0deg); opacity:.9}
      to{transform:translateY(-140vh) translateX(var(--drift, 40px)) rotate(6deg); opacity:.8}
    }

    /* Center wrapper */
    .wrap{position:relative; z-index:2; display:grid; place-items:center; height:100%; padding:24px;}

    .card{
      width:min(920px, 92vw); padding:32px; border-radius:28px;
      background:var(--card-bg);
      backdrop-filter:var(--glass);
      box-shadow: 0 20px 40px #00000033, inset 0 1px 0 #ffffff55;
      border:1px solid #ffffff55;
      display:grid; grid-template-columns: 300px 1fr; gap:28px;
    }
    @media (max-width:820px){
      .card{grid-template-columns: 1fr; gap:20px; padding:22px}
    }

    /* Photo frame */
    .frame{position:relative; width:100%; aspect-ratio: 1/1; border-radius:24px; overflow:hidden;}
    .frame::before{content:""; position:absolute; inset:-3px; border-radius:26px; padding:3px;
      background: conic-gradient(from var(--a,0deg), var(--accent), #ff9a9e, #ffd166, #4dabf7, var(--accent-2), var(--accent));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      animation: spin 12s linear infinite;
    }
    @keyframes spin{to{--a:360deg}}
    .frame img{width:100%; height:100%; object-fit:cover; display:block; filter:contrast(1.05) saturate(1.05)}

    /* Text & chips */
    .title{font-size: clamp(28px, 4vw, 52px); margin:0; line-height:1.05; font-weight:800; letter-spacing:.3px;}
    .subtitle{margin:.4rem 0 1rem; font-size: clamp(16px, 2.1vw, 20px); opacity:.8}

    .sparkle{
      background: linear-gradient(90deg, #ff6b6b, #ffd43b, #66d9e8, #845ef7);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      animation: hue 8s linear infinite;
    }
    @keyframes hue{to{filter:hue-rotate(360deg)}}

    .chips{display:flex; flex-wrap:wrap; gap:10px; margin:14px 0 18px}
    .chip{padding:8px 12px; border-radius:999px; background:#ffffff99; border:1px solid #fff; font-size:14px; box-shadow:0 3px 8px #0002}

    .btns{display:flex; gap:12px; flex-wrap:wrap}
    button,input[type="file"]::file-selector-button{font:inherit}
    .btn{padding:10px 14px; border-radius:12px; border:1px solid #ffffffaa; background:#fff; cursor:pointer; box-shadow:0 6px 16px #0002;}
    .btn.primary{background: linear-gradient(135deg, #ff6b6b, #845ef7); color:white; border:none}

    .name-input{width:min(320px, 100%); padding:10px 12px; border-radius:12px; border:1px solid #ffffffaa; background:#fff}

    /* Floating hearts */
    .hearts{position:absolute; inset:0; pointer-events:none;}
    .heart{position:absolute; width:16px; height:16px; transform:rotate(45deg); animation: pop 3.5s ease-out forwards;}
    .heart::before,.heart::after{content:""; position:absolute; width:100%; height:100%; background:#ff4d6d; border-radius:50%}
    .heart::before{left:-50%}
    .heart::after{top:-50%}
    @keyframes pop{0%{opacity:0; transform: translateY(0) scale(.6) rotate(45deg)} 10%{opacity:1}
      100%{opacity:0; transform: translateY(-140px) scale(1.4) rotate(45deg)}}

    footer{margin-top:8px; font-size:12px; opacity:.7; text-align:center}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <!-- Balloons (customize positions, colors, and speeds) -->
  <div class="balloon" style="left:6%; --bcolor:#ffd166; --dur:16s; --drift:-60px"></div>
  <div class="balloon" style="left:18%; --bcolor:#74c0fc; --dur:20s; --drift:40px; animation-delay: -3s"></div>
  <div class="balloon" style="left:32%; --bcolor:#ff6b6b; --dur:22s; --drift:-30px; animation-delay:-6s"></div>
  <div class="balloon" style="left:58%; --bcolor:#63e6be; --dur:18s; --drift:60px; animation-delay:-9s"></div>
  <div class="balloon" style="left:76%; --bcolor:#faa2c1; --dur:24s; --drift:-50px; animation-delay:-12s"></div>

  <div class="wrap">
    <section class="card" role="region" aria-label="Birthday card">
      <div class="frame" aria-label="Birthday photo frame">
        <img id="photo" src="birthday.jpg" alt="Birthday girl smiling with cake" />
        <div class="hearts" id="hearts"></div>
      </div>

      <div>
        <h1 class="title">Happy Birthday ADITI, <span id="name" class="sparkle">Birthday Girl</span>! üéÇ</h1>
        <p class="subtitle">Wishing you a day filled with sparkles, surprises, and smiles.</p>

        <div class="chips">
          <div class="chip">üéâ Confetti Mode</div>
          <div class="chip">üéà Floating Balloons</div>
          <div class="chip">üíñ Heart Bursts</div>
        </div>

        <div class="btns">
          <input id="file" type="file" accept="image/*" class="btn" />
          <input id="nameInput" class="name-input" type="text" placeholder="Enter her name‚Ä¶" />
          <button id="sparkBtn" class="btn primary">Make it Sparkle ‚ú®</button>
          <button id="confettiBtn" class="btn">Confetti Burst üí•</button>
        </div>

        <footer>
          Tip: Click ‚ÄúMake it Sparkle‚Äù or tap the photo for heart bursts. Replace the photo using the file picker.
        </footer>
      </div>
    </section>
  </div>

  <script>
    // ====== Name binding ======
    const nameEl = document.getElementById('name');
    const nameInput = document.getElementById('nameInput');
    nameInput.addEventListener('input', () => {
      nameEl.textContent = nameInput.value || 'Birthday Girl';
    });

    // ====== Replace photo from file ======
    const file = document.getElementById('file');
    const img = document.getElementById('photo');
    file.addEventListener('change', (e)=>{
      const f = e.target.files?.[0];
      if(!f) return;
      const url = URL.createObjectURL(f);
      img.src = url;
      img.onload = ()=> URL.revokeObjectURL(url);
    });

    // ====== Hearts on photo click ======
    const heartsLayer = document.getElementById('hearts');
    function spawnHeart(x, y){
      const h = document.createElement('div');
      h.className = 'heart';
      const size = 12 + Math.random()*16;
      h.style.width = h.style.height = size + 'px';
      h.style.left = x - heartsLayer.getBoundingClientRect().left - size/2 + 'px';
      h.style.top = y - heartsLayer.getBoundingClientRect().top - size/2 + 'px';
      h.style.animationDuration = (2.5 + Math.random()*2)+'s';
      h.style.opacity = .9;
      heartsLayer.appendChild(h);
      setTimeout(()=> h.remove(), 4000);
    }
    document.querySelector('.frame').addEventListener('pointerdown', (e)=>{
      for(let i=0;i<8;i++){
        setTimeout(()=>spawnHeart(e.clientX + (Math.random()*40-20), e.clientY + (Math.random()*10-5)), i*80);
      }
    });

    document.getElementById('sparkBtn').addEventListener('click', ()=>{
      const rect = img.getBoundingClientRect();
      for(let i=0;i<16;i++){
        const x = rect.left + Math.random()*rect.width;
        const y = rect.top + Math.random()*rect.height;
        spawnHeart(x,y);
      }
      burstConfetti(rect.left + rect.width/2, rect.top + rect.height/2);
    });

    // ====== Confetti Engine ======
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let w, h, confetti, lastT=0;

    function resize(){
      w = canvas.width = window.innerWidth * devicePixelRatio;
      h = canvas.height = window.innerHeight * devicePixelRatio;
    }
    window.addEventListener('resize', resize); resize();

    function makePiece(x, y, burst=false){
      const angle = Math.random()*Math.PI*2;
      const speed = burst ? 8+Math.random()*6 : 2+Math.random()*2;
      return {
        x: (x??(Math.random()*w)),
        y: (y??(-20)),
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed - (burst?6:0),
        r: Math.random()*8+3,
        a: Math.random()*Math.PI,
        s: (Math.random()<.5?1:-1)*(0.02+Math.random()*0.06),
        life: 0,
        hue: Math.floor(Math.random()*360)
      }
    }

    function initConfetti(n=180){
      confetti = new Array(n).fill(0).map(()=>makePiece());
    }
    initConfetti();

    function drawPiece(p){
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.a);
      ctx.fillStyle = `hsl(${p.hue} 90% 60%)`;
      ctx.beginPath();
      ctx.moveTo(-p.r, -p.r/2);
      ctx.lineTo(p.r, -p.r/2);
      ctx.lineTo(p.r, p.r/2);
      ctx.lineTo(-p.r, p.r/2);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }

    function stepConfetti(dt){
      for(const p of confetti){
        p.vy += 0.08 * dt; // gravity
        p.vx *= 0.999;     // air drag
        p.x += p.vx * dt;
        p.y += p.vy * dt;
        p.a += p.s * dt;   // spin
        p.life += dt;
        if(p.y > h + 20) { // recycle from top
          const idx = confetti.indexOf(p);
          confetti[idx] = makePiece();
        }
      }
    }

    function loop(t){
      const dt = Math.min(40, (t - lastT) / 16.67); // normalize to ~60fps units
      lastT = t;
      ctx.clearRect(0,0,w,h);
      stepConfetti(dt);
      for(const p of confetti) drawPiece(p);
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);

    // Manual burst at a position
    function burstConfetti(x, y){
      const bx = (x ?? window.innerWidth/2) * devicePixelRatio;
      const by = (y ?? window.innerHeight/2) * devicePixelRatio;
      for(let i=0;i<120;i++) confetti.push(makePiece(bx, by, true));
      // prune array to avoid infinite growth
      if(confetti.length > 800) confetti.splice(0, confetti.length - 600);
    }

    // Button-triggered confetti
    document.getElementById('confettiBtn').addEventListener('click', ()=> burstConfetti());

    // Auto entrance burst after load
    window.addEventListener('load', ()=> setTimeout(()=> burstConfetti(), 700));
  </script>
</body>
</html>
